# Результаты

## Проблемы

**Атокорреляция**

Если проводить обучение сразу после каждой симуляции, данные, а именно состояния, оказываются взаимно коррелированными, что приводит к переобучению.

![](images/overfitting.jpg)


**Решение**

Накопление данных, их перемешивание и только потом обучение.

![](images/memoryfitting.jpg)

## Баги

Добавление параметра smell (запах следов) животных — хорошая идея.

Однако после анализа поведения овец я заметил баг: они начали бегать взад-вперед на одном месте, а волки не подходили к ним, словно их не видели. При изучении окружения овцы выяснилось, что запах затирал положение овцы, то есть фактически удалял её, и волк видел только запах, но не саму овцу. Искусственный интеллект обнаружил этот баг и создал забавный паттерн поведения.

![](images/q_smell_ninja.gif)

Или еще хитрее, затирала следы, упиралась в борт и неподвижно сидела. Как только волк уходил, овца сразу выбегала, но её быстро ловили.

![](images/q_smell_ninja2.gif)

После внесения исправлений такой трюк уже не удался.

![](images/q_smell_ninja3.gif)


## Сходимость обучения

![](images/rewards.jpg)

По графику видно, что в среднем общее количество наград растет, включая полезные награды.